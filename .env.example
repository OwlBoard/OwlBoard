# Environment Variables Example
# Copy this file to .env and adjust values as needed

# ============================================
# Database Configuration
# ============================================

# MySQL (User Service)
MYSQL_ROOT_PASSWORD=root
MYSQL_DATABASE=user_db
MYSQL_USER=user
MYSQL_PASSWORD=password

# PostgreSQL (Canvas Service)
POSTGRES_USER=admin
POSTGRES_PASSWORD=admin
POSTGRES_DB=canvas_db

# MongoDB (Comments Service)
MONGO_INITDB_ROOT_USERNAME=user
MONGO_INITDB_ROOT_PASSWORD=password

# Redis (Chat Service)
REDIS_PASSWORD=password

# RabbitMQ (Message Broker)
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest

# ============================================
# Service URLs (Internal Docker Network)
# ============================================

# User Service
DATABASE_URL=mysql+pymysql://user:password@mysql_db/user_db

# Canvas Service
CANVAS_DATABASE_URL=postgres://admin:admin@postgres_db:5432/canvas_db?sslmode=disable

# Comments Service
COMMENTS_DATABASE_URL=mongodb://user:password@mongo_db:27017/comments_db?authSource=admin

# Chat Service
REDIS_URL=redis://:password@redis_db:6379/0

# RabbitMQ
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/

# ============================================
# Frontend Configuration
# ============================================

# CORS Origins (for Chat Service)
CORS_ORIGINS=["http://localhost:3001", "http://localhost:3002"]

# Desktop Frontend (NextJS) - Client-side URLs
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_USER_SERVICE_URL=http://localhost:8000/api/users
NEXT_PUBLIC_COMMENTS_SERVICE_URL=http://localhost:8000/api/comments
NEXT_PUBLIC_CHAT_SERVICE_URL=http://localhost:8000/api/chat
NEXT_PUBLIC_CANVAS_SERVICE_URL=http://localhost:8000/api/canvas

# Mobile Frontend (Flutter) - External URLs
EXTERNAL_API_URL=http://localhost:9000/api

# ============================================
# Port Configuration
# ============================================

# Frontend Ports (Host:Container)
DESKTOP_FRONTEND_PORT=3002:3000
MOBILE_FRONTEND_PORT=3001:80

# Gateway Ports (Host:Container)
API_GATEWAY_PORT=8000:80
REVERSE_PROXY_PORT=9000:80

# Note: Backend services and databases are NOT exposed on the host
# for security reasons. They are only accessible through the API Gateway.

# ============================================
# SSL/TLS Configuration
# ============================================

# Certificate paths (auto-generated by setup.sh)
# CA_CERT_PATH=./Secure_Channel/ca/ca.crt
# CA_KEY_PATH=./Secure_Channel/ca/ca.key

# Service certificates (auto-mounted via docker-compose.yml)
# - API Gateway: ./Secure_Channel/certs/api_gateway/
# - User Service: ./Secure_Channel/certs/user_service/
# - Chat Service: ./Secure_Channel/certs/chat_service/

# ============================================
# Development/Production Mode
# ============================================

NODE_ENV=production

# ============================================
# Logging
# ============================================

# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# Security Notes
# ============================================

# ⚠️  IMPORTANT FOR PRODUCTION:
# 1. Change all default passwords
# 2. Use strong, unique passwords for each service
# 3. Store sensitive values in a secure secret manager
# 4. Never commit .env file to version control
# 5. Use SSL/TLS in production (already configured)
# 6. Rotate credentials regularly
# 7. Enable authentication on RabbitMQ management interface

# ============================================
# Optional Configuration
# ============================================

# Docker Compose project name
COMPOSE_PROJECT_NAME=owlboard

# Timezone
TZ=America/Bogota
